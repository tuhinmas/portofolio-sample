<?php

namespace Modules\KiosDealer\Console;

use Illuminate\Console\Command;
use Illuminate\Support\Facades\DB;
use Modules\KiosDealer\Entities\Dealer;

class DealerGradeResetCommand extends Command
{
    /**
     * The name and signature of the console command.
     *
     * @var string
     */
    protected $name = 'dealer:reset-grade-to-default';

    /**
     * The console command description.
     *
     * @var string
     */
    protected $description = 'dealer grade reset to default grade.';

    /**
     * Create a new command instance.
     *
     * @return void
     */
    public function __construct(
        protected Dealer $dealer
    ) {
        parent::__construct();
    }

    /**
     * Execute the console command.
     *
     * @return mixed
     */
    public function handle()
    {
        $deafult_grade = DB::table('gradings')
            ->where("default", true)
            ->first();

        $this->dealer->query()
            ->whereIn("dealer_id", self::dealerId())
            ->update([
                "grading_id" => $deafult_grade?->id,
            ]);
    }

    public function dealerId(): array
    {
        return [
            838,
            999,
            1730,
            679,
            1739,
            1757,
            1763,
            1765,
            1766,
            1768,
            680,
            1770,
            1774,
            1787,
            1793,
            668,
            1797,
            667,
            664,
            1802,
            670,
            1807,
            1723,
            1721,
            1670,
            1673,
            1674,
            1675,
            1676,
            1679,
            1680,
            1686,
            1722,
            1689,
            1692,
            1693,
            1694,
            685,
            1713,
            684,
            1716,
            682,
            169,
            553,
            1809,
            1811,
            640,
            1899,
            637,
            1901,
            1904,
            636,
            1907,
            1911,
            641,
            1912,
            635,
            1922,
            1923,
            1924,
            1928,
            1946,
            1949,
            1958,
            1916,
            1810,
            643,
            1879,
            659,
            1818,
            1819,
            1825,
            1828,
            655,
            653,
            1843,
            1880,
            1845,
            1857,
            1864,
            1866,
            1867,
            1869,
            645,
            644,
            1875,
            650,
            695,
            696,
            1660,
            1459,
            1460,
            1465,
            800,
            797,
            1472,
            788,
            786,
            803,
            1484,
            783,
            782,
            1489,
            781,
            78,
            1495,
            776,
            769,
            785,
            767,
            804,
            1445,
            1387,
            819,
            818,
            1392,
            1395,
            1402,
            814,
            1407,
            1450,
            1408,
            1411,
            1417,
            810,
            1426,
            1430,
            1437,
            1438,
            1439,
            1409,
            1512,
            1519,
            765,
            73,
            1601,
            1603,
            1605,
            1606,
            721,
            715,
            1628,
            1596,
            1632,
            705,
            1644,
            1646,
            1647,
            703,
            698,
            1658,
            1659,
            706,
            731,
            732,
            1584,
            1525,
            763,
            1527,
            762,
            1530,
            760,
            1544,
            749,
            1551,
            746,
            745,
            744,
            1560,
            1562,
            1564,
            1572,
            741,
            740,
            1582,
            1962,
            1380,
            1963,
            1970,
            586,
            426,
            429,
            582,
            433,
            434,
            435,
            436,
            420,
            439,
            445,
            446,
            448,
            580,
            578,
            456,
            457,
            458,
            443,
            461,
            417,
            415,
            386,
            588,
            392,
            393,
            394,
            395,
            397,
            398,
            416,
            400,
            587,
            403,
            404,
            406,
            410,
            411,
            412,
            413,
            401,
            383,
            575,
            466,
            520,
            566,
            523,
            526,
            564,
            529,
            530,
            532,
            519,
            533,
            536,
            539,
            541,
            542,
            546,
            560,
            558,
            555,
            535,
            574,
            513,
            511,
            467,
            468,
            470,
            571,
            482,
            485,
            487,
            488,
            512,
            493,
            5,
            500,
            568,
            502,
            505,
            508,
            509,
            510,
            497,
            379,
            377,
            374,
            2027,
            2028,
            203,
            2030,
            2031,
            2032,
            2037,
            2038,
            2026,
            2040,
            2042,
            2043,
            630,
            212,
            627,
            626,
            22,
            625,
            2041,
            229,
            2024,
            2018,
            1975,
            1976,
            1977,
            1982,
            1987,
            199,
            1990,
            1992,
            2020,
            1993,
            2004,
            2008,
            2009,
            2011,
            2013,
            2014,
            2015,
            2017,
            1997,
            23,
            620,
            252,
            320,
            321,
            322,
            323,
            325,
            605,
            328,
            329,
            314,
            345,
            352,
            353,
            356,
            591,
            365,
            367,
            590,
            370,
            349,
            313,
            312,
            311,
            616,
            263,
            272,
            276,
            612,
            610,
            293,
            295,
            297,
            299,
            3,
            302,
            303,
            305,
            306,
            307,
            308,
            608,
            606,
            1969,
            1379,
            691,
            984,
            977,
            1119,
            1318,
            1239,
            1117,
            1113,
            1314,
            1243,
            1244,
            1054,
            1056,
            1112,
            1245,
            953,
            955,
            1109,
            1311,
            1058,
            1250,
            894,
            852,
            1234,
            1101,
            904,
            950,
            1217,
            1337,
            1219,
            1220,
            1223,
            113,
            1224,
            822,
            1038,
            946,
            1039,
            906,
            104,
            905,
            1326,
            1229,
            1324,
            982,
            1046,
            1230,
            1231,
            951,
            1215,
            1100,
            1307,
            1076,
            1092,
            865,
            1091,
            968,
            965,
            880,
            1089,
            879,
            878,
            1087,
            877,
            1276,
            1082,
            876,
            874,
            1285,
            1085,
            1083,
            1283,
            1084,
            1093,
            962,
            1263,
            1262,
            1099,
            974,
            856,
            1063,
            973,
            89,
            1302,
            972,
            858,
            860,
            861,
            1066,
            1067,
            887,
            1258,
            1070,
            1071,
            1072,
            1259,
            883,
            862,
            864,
            843,
            870,
            1188,
            939,
            830,
            835,
            1173,
            1025,
            833,
            1024,
            921,
            1006,
            990,
            834,
            938,
            831,
            1141,
            922,
            832,
            1352,
            937,
            1184,
            1008,
            914,
            915,
            930,
            992,
            1016,
            943,
            1009,
            1148,
            1015,
            931,
            1007,
            923,
            1145,
            1003,
            942,
            1163,
            842,
            988,
            1159,
            1002,
            1030,
            840,
            1032,
            1027,
            824,
            928,
            1160,
            1000,
        ];
    }

}
